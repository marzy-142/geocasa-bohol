
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for public/build/assets/Index-BRJmkQKA.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">public/build/assets</a> Index-BRJmkQKA.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >import{a as u,q as T,L as E,s as F,c as P,w as A,O as W,o as l,b as e,t as a,d as h,u as f,f as q,v as D,h as i,l as _,i as I,n as p,F as w,z as G,W as C}from"./app-Bwbmud97.js";import{M as H,r as N}from"./ModernDashboardLayout-B8-LFibv.js";import{r as O}from"./MagnifyingGlassIcon-_UsXYrOM.js";import{r as Q}from"./PaperAirplaneIcon-DErl7tZP.js";import{f as J}from"./formatDistanceToNow-DXTjigy3.js";import"./NotificationDropdown-BIkovNMd.js";import"./XMarkIcon-BvEjh4IS.js";/* empty css                                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./HomeIcon-Bc6METzF.js";import"./CurrencyDollarIcon-BmPn5Krw.js";import"./CheckCircleIcon-CJCMo52B.js";import"./MapPinIcon-DKrZH_c2.js";import"./SunIcon-DCLJiI67.js";import"./ArrowRightOnRectangleIcon-BLP8BKBG.js";import"./UserGroupIcon-BigvlrD3.js";import"./DocumentCheckIcon-15_5ZnpQ.js";import"./UserPlusIcon-1WcGWr_W.js";import"./DocumentTextIcon-CesnHPzp.js";import"./ExclamationTriangleIcon-BiFMORQ4.js";import"./ChartBarIcon-BQ6Tw6CW.js";import"./BuildingOfficeIcon-Ct2AfseO.js";const K={class:"flex items-center justify-between"},R={class:"flex items-center space-x-3"},X={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]"},Z={class:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ee={class:"p-4 border-b border-gray-200 dark:border-gray-700"},te={class:"flex items-center justify-between mb-4"},re={class:"relative"},se={class:"overflow-y-auto h-full"},ae={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},oe=["onClick"],le={class:"flex items-start space-x-3"},ie={class:"flex-shrink-0"},ne={class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm"},de={class:"flex-1 min-w-0"},ue={class:"flex items-center justify-between"},ce={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},ge={class:"flex items-center space-x-2"},pe={key:0,class:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full"},xe={class:"text-xs text-gray-500 dark:text-gray-400"},ye={class:"text-sm text-gray-600 dark:text-gray-400 truncate mt-1"},be={class:"flex items-center mt-2 space-x-2"},me={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},ve={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col"},he={key:0,class:"flex-1 flex items-center justify-center"},fe={class:"text-center"},_e={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},ke={class:"flex items-center justify-between"},we={class:"flex items-center space-x-3"},Ce={class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm"},Se={class:"text-lg font-semibold text-gray-900 dark:text-white"},je={class:"text-sm text-gray-500 dark:text-gray-400"},$e={class:"flex items-center space-x-2"},Me={key:0,class:"text-xs font-medium mb-1 opacity-75"},Te={class:"text-sm"},Ae={class:"text-xs mt-1 opacity-75"},qe={class:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},De=["disabled"],Ie=["disabled"],st={__name:"Index",props:{conversations:Array,selectedConversationId:Number,messages:Array},setup(B){const n=B,o=u(null),k=u(n.messages||[]),c=u(""),g=u(!1),x=u(""),y=u(!1),b=u(null),L=T(()=&gt;n.conversations.reduce((r,s)=&gt;r+(s.unread_count||0),0)),S=T(()=&gt;n.conversations.filter(s=&gt;{const t=!x.value||m(s).toLowerCase().includes(x.value.toLowerCase()),d=y.value?s.is_archived:!s.is_archived;return t&amp;&amp;d}).sort((s,t)=&gt;new Date(t.last_message_at)-new Date(s.last_message_at))),V=r=&gt;{o.value=r,C.get(route("conversations.show",r.id),{},{preserveState:!0,preserveScroll:!0,only:["messages"]})},U=async()=&gt;{if(!(!c.value.trim()||!o.value||g.value)){g.value=!0;try{await C.post(route("conversations.send-message",o.value.id),{content:c.value},{preserveState:!0,preserveScroll:!0,onSuccess:()=&gt;{c.value="",v()}})}finally{g.value=!1}}},z=async r=&gt;{const s=r.is_archived?"conversations.unarchive":"conversations.archive";await C.post(route(s,r.id),{},{preserveState:!0})},m=r=&gt;{var s,t;return r.title?r.title:r.type==="inquiry"&amp;&amp;r.inquiry?`Inquiry: ${((s=r.inquiry.property)==null?void 0:s.title)||"Property Inquiry"}`:r.type==="transaction"&amp;&amp;r.transaction?`Transaction: ${((t=r.transaction.property)==null?void 0:t.title)||"Property Transaction"}`:"General Conversation"},j=r=&gt;m(r).split(" ").map(t=&gt;t[0]).join("").substring(0,2).toUpperCase(),$=r=&gt;r?J(new Date(r),{addSuffix:!0}):"",v=()=&gt;{W(()=&gt;{b.value&amp;&amp;(b.value.scrollTop=b.value.scrollHeight)})};return E(()=&gt;n.messages,r=&gt;{k.value=r||[],v()},{immediate:!0}),F(()=&gt;{n.selectedConversationId&amp;&amp;(o.value=n.conversations.find(r=&gt;r.id===n.selectedConversationId)),v(),o.value&amp;&amp;window.Echo.private(`conversation.${o.value.id}`).listen("MessageSent",r=&gt;{k.value.push(r.message),v()})}),(r,s)=&gt;(l(),P(H,null,{header:A(()=&gt;[e("div",K,[s[4]||(s[4]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Messages "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Manage your conversations and communications ")],-1)),e("div",R,[e("span",X,a(L.value)+" unread ",1)])])]),default:A(()=&gt;[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[s[5]||(s[5]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Conversations ",-1)),e("button",{onClick:s[0]||(s[0]=t=&gt;y.value=!y.value),class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"},a(y.value?"Show Active":"Show Archived"),1)]),e("div",re,[h(f(O),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),q(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=&gt;x.value=t),type:"text",placeholder:"Search conversations...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[D,x.value]])])]),e("div",se,[S.value.length===0?(l(),i("div",ae,[h(f(N),{class:"mx-auto h-12 w-12 mb-3 opacity-50"}),s[6]||(s[6]=e("p",null,"No conversations found",-1))])):_("",!0),(l(!0),i(w,null,I(S.value,t=&gt;{var d,M;return l(),i("div",{key:t.id,onClick:Ne=&gt;V(t),class:p(["p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",((d=o.value)==null?void 0:d.id)===t.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":""])},[e("div",le,[e("div",ie,[e("div",ne,a(j(t)),1)]),e("div",de,[e("div",ue,[e("h4",ce,a(m(t)),1),e("div",ge,[t.unread_count&gt;0?(l(),i("span",pe,a(t.unread_count&gt;99?"99+":t.unread_count),1)):_("",!0),e("span",xe,a($(t.last_message_at)),1)])]),e("p",ye,a(((M=t.latest_message)==null?void 0:M.content)||"No messages yet"),1),e("div",be,[e("span",{class:p(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",t.type==="inquiry"?"bg-green-100 text-green-80</span></span>0 dark:bg-green-900 dark:text-green-200":t.type==="transaction"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},a(t.type),3),t.is_archived?(l(),i("span",me," Archived ")):_("",!0)])])])],10,oe)}),128))])]),e("div",ve,[o.value?(l(),i(w,{key:1},[e("div",_e,[e("div",ke,[e("div",we,[e("div",Ce,a(j(o.value)),1),e("div",null,[e("h3",Se,a(m(o.value)),1),e("p",je,a(o.value.participants.length)+" participants ",1)])]),e("div",$e,[e("button",{onClick:s[2]||(s[2]=t=&gt;z(o.value)),class:p(["px-3 py-1.5 text-sm font-medium rounded-lg transition-colors",o.value.is_archived?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900 dark:text-green-200 dark:hover:bg-green-800":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-200 dark:hover:bg-yellow-800"])},a(o.value.is_archived?"Unarchive":"Archive"),3)])])]),e("div",{ref_key:"messagesContainer",ref:b,class:"flex-1 overflow-y-auto p-4 space-y-4"},[(l(!0),i(w,null,I(k.value,t=&gt;{var d;return l(),i("div",{key:t.id,class:p(["flex",t.sender_id===r.$page.props.auth.user.id?"justify-end":"justify-start"])},[e("div",{class:p(["max-w-xs lg:max-w-md px-4 py-2 rounded-lg",t.sender_id===r.$page.props.auth.user.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"])},[t.sender_id!==r.$page.props.auth.user.id?(l(),i("div",Me,a((d=t.sender)==null?void 0:d.name),1)):_("",!0),e("p",Te,a(t.content),1),e("div",Ae,a($(t.created_at)),1)],2)],2)}),128))],512),e("div",qe,[e("form",{onSubmit:G(U,["prevent"]),class:"flex space-x-3"},[q(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=&gt;c.value=t),type:"text",placeholder:"Type your message...",class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g.value},null,8,De),[[D,c.value]]),e("button",{type:"submit",disabled:!c.value.trim()||g.value,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[h(f(Q),{class:"h-4 w-4"})],8,Ie)],32)])],64)):(l(),i("div",he,[e("div",fe,[h(f(N),{class:"mx-auto h-16 w-16 text-gray-400 mb-4"}),s[7]||(s[7]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Select a conversation ",-1)),s[8]||(s[8]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Choose a conversation from the list to start messaging ",-1))])]))])])]),_:1}))}};export{st as default};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-09-11T15:42:07.474Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    