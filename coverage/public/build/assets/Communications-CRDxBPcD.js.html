
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for public/build/assets/Communications-CRDxBPcD.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">public/build/assets</a> Communications-CRDxBPcD.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >import{o as a,h as u,b as e,C as _e,a as y,q as E,c as C,w as c,d as i,u as o,m as Ye,e as x,t as r,f as h,v as D,g as N,i as _,F as w,l as $,n as f,k as we,z as q}from"./app-Bwbmud97.js";import{M as Je,a as Ke,r as H}from"./ModernDashboardLayout-B8-LFibv.js";import{_ as m}from"./ModernButton-CcjMkvOV.js";import{r as We}from"./ArrowLeftIcon-CkwuUUYR.js";import{r as Xe}from"./DocumentTextIcon-CesnHPzp.js";import{r as Ze}from"./PaperAirplaneIcon-DErl7tZP.js";import{r as ke}from"./CheckCircleIcon-CJCMo52B.js";import{r as G}from"./EyeIcon-BMNQy0Aj.js";import{r as Ce}from"./UsersIcon-xUe8TFc8.js";import{r as Ie}from"./FunnelIcon-bWsYXFmg.js";import{r as et}from"./MagnifyingGlassIcon-_UsXYrOM.js";import{r as $e}from"./TrashIcon-D-5326Ek.js";import{r as tt}from"./CalendarIcon-Cnt6WXkZ.js";import{r as st}from"./ArrowPathIcon-br-W7QQH.js";import{r as Se}from"./XMarkIcon-BvEjh4IS.js";import{r as je}from"./UserIcon-CJxtJlmg.js";import{r as lt}from"./NotificationDropdown-BIkovNMd.js";import{r as ot}from"./EnvelopeIcon-CYAX0JMO.js";import{r as rt}from"./ExclamationTriangleIcon-BiFMORQ4.js";/* empty css                                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./HomeIcon-Bc6METzF.js";import"./CurrencyDollarIcon-BmPn5Krw.js";import"./MapPinIcon-DKrZH_c2.js";import"./SunIcon-DCLJiI67.js";import"./ArrowRightOnRectangleIcon-BLP8BKBG.js";import"./UserGroupIcon-BigvlrD3.js";import"./DocumentCheckIcon-15_5ZnpQ.js";import"./UserPlusIcon-1WcGWr_W.js";import"./ChartBarIcon-BQ6Tw6CW.js";import"./BuildingOfficeIcon-Ct2AfseO.js";function nt(g,v){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}const it={class:"mb-8"},at={class:"flex items-center gap-4 mb-4"},dt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6"},ut={class:"flex items-center gap-3"},ct={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},mt={class:"bg-white rounded-2xl border border-gray-100 p-6"},pt={class:"flex items-center justify-between"},gt={class:"text-2xl font-bold text-gray-900"},xt={class:"text-sm text-blue-600 mt-1"},ft={class:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center"},yt={class:"bg-white rounded-2xl border border-gray-100 p-6"},vt={class:"flex items-center justify-between"},bt={class:"text-2xl font-bold text-gray-900"},ht={class:"text-sm text-green-600 mt-1"},_t={class:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center"},wt={class:"bg-white rounded-2xl border border-gray-100 p-6"},kt={class:"flex items-center justify-between"},Ct={class:"text-2xl font-bold text-gray-900"},$t={class:"text-sm text-purple-600 mt-1"},St={class:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center"},jt={class:"bg-white rounded-2xl border border-gray-100 p-6"},Mt={class:"flex items-center justify-between"},At={class:"text-2xl font-bold text-gray-900"},Dt={class:"text-sm text-indigo-600 mt-1"},Tt={class:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center"},Bt={class:"bg-white rounded-2xl border border-gray-100 p-6 mb-8"},Rt={class:"flex items-center justify-between mb-4"},Vt={class:"flex items-center gap-2"},Ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},zt={class:"relative"},Nt=["value"],Ft=["value"],Lt=["value"],Ot={class:"flex gap-2"},Pt={class:"bg-white rounded-2xl border border-gray-100 p-6"},Et={class:"flex items-center justify-between mb-6"},qt={key:0,class:"flex items-center gap-3"},Ht={class:"text-sm text-gray-600"},Gt={key:0,class:"space-y-4"},Qt={class:"flex items-start justify-between"},Yt={class:"flex items-start gap-4 flex-1"},Jt=["checked","onChange"],Kt={class:"flex-1"},Wt={class:"flex items-center gap-3 mb-2"},Xt={class:"font-semibold text-gray-900"},Zt={class:"text-sm text-gray-600 mb-3 line-clamp-2"},It={class:"flex items-center gap-6 text-sm text-gray-500"},es={class:"flex items-center gap-1"},ts={class:"flex items-center gap-1"},ss={class:"flex items-center gap-1"},ls={class:"flex items-center gap-1"},os={class:"flex items-center gap-2 ml-4"},rs={key:1,class:"text-center py-12"},ns={class:"flex items-center justify-between mb-6"},is={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},as={class:"space-y-6"},ds={class:"grid grid-cols-2 gap-3"},us=["onClick"],cs={class:"flex items-center gap-2 mb-1"},ms={class:"text-xs text-gray-600"},ps={class:"grid grid-cols-2 gap-4"},gs=["value"],xs={class:"flex items-center justify-between mb-4"},fs={class:"block text-sm font-medium text-gray-700"},ys={class:"flex gap-2"},vs={class:"border border-gray-300 rounded-lg p-4 max-h-80 overflow-y-auto"},bs={class:"space-y-2"},hs=["checked","onChange"],_s={class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0"},ws=["src","alt"],ks={class:"flex-1"},Cs={class:"text-sm font-medium text-gray-900"},$s={class:"text-xs text-gray-600"},Ss={key:0},js={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ms=["onClick"],As={class:"font-medium text-gray-900"},Ds={class:"text-sm text-gray-600 mt-1"},Ts={class:"flex items-center justify-end gap-3 pt-4 border-t"},Bs={class:"flex items-center justify-between mb-6"},Rs={class:"space-y-6"},Vs={class:"text-lg font-semibold text-gray-900 mb-2"},Us={class:"flex items-center gap-3 mb-4"},zs={class:"text-sm text-gray-600"},Ns={class:"text-gray-700 whitespace-pre-wrap"},Fs={class:"grid grid-cols-3 gap-4"},Ls={class:"text-center p-4 bg-blue-50 rounded-lg"},Os={class:"text-2xl font-bold text-blue-600"},Ps={class:"text-center p-4 bg-green-50 rounded-lg"},Es={class:"text-2xl font-bold text-green-600"},qs={class:"text-center p-4 bg-purple-50 rounded-lg"},Hs={class:"text-2xl font-bold text-purple-600"},Gs={key:0},Qs={class:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg"},Ys={class:"flex items-center gap-3"},Js={class:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden"},Ks=["src","alt"],Ws={class:"text-sm font-medium text-gray-900"},Xs={class:"text-xs text-gray-600"},Zs={class:"flex items-center gap-2"},Is={key:0,class:"text-xs text-green-600"},Tl={__name:"Communications",props:{brokers:Array,communications:Array,templates:Array,stats:Object,filters:Object},setup(g){var I,ee,te,se,le,oe;const v=g,n=_e({type:"notification",title:"",message:"",recipients:[],priority:"normal",scheduled_at:null,template_id:null,tags:[],attachments:[]}),Me=_e({name:"",type:"notification",subject:"",content:"",variables:[]}),F=y(!1),Ae=y(!1),L=y(!1),p=y(null),De=y(!1),b=y([]),S=y(((I=v.filters)==null?void 0:I.search)||""),T=y(((ee=v.filters)==null?void 0:ee.type)||""),B=y(((te=v.filters)==null?void 0:te.status)||""),R=y(((se=v.filters)==null?void 0:se.priority)||""),V=y({start:((le=v.filters)==null?void 0:le.date_start)||"",end:((oe=v.filters)==null?void 0:oe.date_end)||""}),k={notification:{name:"Notification",icon:lt,color:"blue",description:"System notifications and alerts"},announcement:{name:"Announcement",icon:nt,color:"green",description:"General announcements and updates"},email:{name:"Email",icon:ot,color:"purple",description:"Direct email messages"},sms:{name:"SMS",icon:H,color:"yellow",description:"Text messages"},alert:{name:"Alert",icon:rt,color:"red",description:"Important alerts and warnings"}},j={low:{name:"Low",color:"gray",class:"bg-gray-100 text-gray-800"},normal:{name:"Normal",color:"blue",class:"bg-blue-100 text-blue-800"},high:{name:"High",color:"yellow",class:"bg-yellow-100 text-yellow-800"},urgent:{name:"Urgent",color:"red",class:"bg-red-100 text-red-800"}},U={draft:{name:"Draft",color:"gray",class:"bg-gray-100 text-gray-800"},scheduled:{name:"Scheduled",color:"blue",class:"bg-blue-100 text-blue-800"},sent:{name:"Sent",color:"green",class:"bg-green-100 text-green-800"},failed:{name:"Failed",color:"red",class:"bg-red-100 text-red-800"}},Q=E(()=&gt;{let l=v.communications||[];return S.value&amp;&amp;(l=l.filter(t=&gt;t.title.toLowerCase().includes(S.value.toLowerCase())||t.message.toLowerCase().includes(S.value.toLowerCase()))),T.value&amp;&amp;(l=l.filter(t=&gt;t.type===T.value)),B.value&amp;&amp;(l=l.filter(t=&gt;t.status===B.value)),R.value&amp;&amp;(l=l.filter(t=&gt;t.priority===R.value)),l}),Te=E(()=&gt;{var l;return((l=v.brokers)==null?void 0:l.filter(t=&gt;n.recipients.includes(t.id)))||[]}),Y=E(()=&gt;n.title&amp;&amp;n.message&amp;&amp;n.recipients.length&gt;0),J=(l="notification")=&gt;{n.reset(),n.type=l,F.value=!0},M=()=&gt;{F.value=!1,n.reset()},Be=()=&gt;{Me.reset(),Ae.value=!0},Re=l=&gt;{p.value=l,L.value=!0},K=()=&gt;{L.value=!1,p.value=null},Ve=l=&gt;{const t=n.recipients.indexOf(l);t&gt;-1?n.recipients.splice(t,1):n.recipients.push(l)},Ue=()=&gt;{var l;n.recipients=((l=v.brokers)==null?void 0:l.map(t=&gt;t.id))||[]},ze=()=&gt;{n.recipients=[]},Ne=l=&gt;{n.title=l.subject,n.message=l.content,n.type=l.type},Fe=()=&gt;{n.post(route("admin.brokers.communications.send"),{onSuccess:()=&gt;{M()}})},Le=()=&gt;{n.post(route("admin.brokers.communications.draft"),{onSuccess:()=&gt;{M()}})},Oe=()=&gt;{if(!n.scheduled_at){alert("Please select a schedule date and time");return}n.post(route("admin.brokers.communications.schedule"),{onSuccess:()=&gt;{M()}})},Pe=l=&gt;{confirm("Are you sure you want to delete this communication?")&amp;&amp;console.log("Deleting communication:",l)},Ee=l=&gt;{console.log("Resending communication:",l)},qe=l=&gt;{const t=b.value.indexOf(l);t&gt;-1?b.value.splice(t,1):b.value.push(l)},He=()=&gt;{b.value.length!==0&amp;&amp;confirm(`Are you sure you want to delete ${b.value.length} communications?`)&amp;&amp;(console.log("Bulk deleting:",b.value),b.value=[],De.value=!1)},Ge=()=&gt;{console.log("Applying filters")},Qe=()=&gt;{S.value="",T.value="",B.value="",R.value="",V.value={start:"",end:""}},W=l=&gt;l?new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",X=l=&gt;l.total_recipients?Math.round(l.delivered_count/l.total_recipients*100):0,Z=l=&gt;l.delivered_count?Math.round(l.read_count/l.delivered_count*100):0;return(l,t)=&gt;(a(),C(Je,null,{default:c(()=&gt;{var re,ne,ie,ae,de,ue,ce,me,pe,ge,xe,fe,ye;return[i(o(Ye),{title:"Broker Communications"}),e("div",it,[e("div",at,[i(m,{variant:"ghost",href:l.route("admin.brokers.index")},{default:c(()=&gt;[i(o(We),{class:"w-5 h-5"}),t[12]||(t[12]=x(" Back to Brokers "))]),_:1},8,["href"])]),e("div",dt,[t[15]||(t[15]=e("div",null,[e("h1",{class:"text-2xl font-bold text-neutral-900 mb-2"}," Broker Communications "),e("p",{class:"text-gray-600"}," Send notifications, announcements, and messages to brokers ")],-1)),e("div",ut,[i(m,{variant:"outline",onClick:Be},{default:c(()=&gt;[i(o(Xe),{class:"w-5 h-5"}),t[13]||(t[13]=x(" Manage Templates "))]),_:1}),i(m,{variant:"primary",onClick:J},{default:c(()=&gt;[i(o(Ke),{class:"w-5 h-5"}),t[14]||(t[14]=x(" New Communication "))]),_:1})])])]),e("div",ct,[e("div",mt,[e("div",pt,[e("div",null,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-600"}," Total Sent ",-1)),e("p",gt,r(((re=g.stats)==null?void 0:re.total_sent)||0),1),e("p",xt," This month: "+r(((ne=g.stats)==null?void 0:ne.monthly_sent)||0),1)]),e("div",ft,[i(o(Ze),{class:"w-6 h-6 text-blue-600"})])])]),e("div",yt,[e("div",vt,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-sm font-medium text-gray-600"}," Delivery Rate ",-1)),e("p",bt,r(((ie=g.stats)==null?void 0:ie.delivery_rate)||0)+"% ",1),e("p",ht,r(((ae=g.stats)==null?void 0:ae.delivered_count)||0)+" delivered ",1)]),e("div",_t,[i(o(ke),{class:"w-6 h-6 text-green-600"})])])]),e("div",wt,[e("div",kt,[e("div",null,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-gray-600"}," Read Rate ",-1)),e("p",Ct,r(((de=g.stats)==null?void 0:de.read_rate)||0)+"% ",1),e("p",$t,r(((ue=g.stats)==null?void 0:ue.read_count)||0)+" opened ",1)]),e("div",St,[i(o(G),{class:"w-6 h-6 text-purple-600"})])])]),e("div",jt,[e("div",Mt,[e("div",null,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-600"}," Active Brokers ",-1)),e("p",At,r(((ce=g.stats)==null?void 0:ce.active_brokers)||0),1),e("p",Dt,r(((me=g.stats)==null?void 0:me.total_brokers)||0)+" total ",1)]),e("div",Tt,[i(o(Ce),{class:"w-6 h-6 text-indigo-600"})])])])]),e("div",Bt,[e("div",Rt,[t[22]||(t[22]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Filters",-1)),e("div",Vt,[i(m,{variant:"ghost",size:"sm",onClick:Qe},{default:c(()=&gt;t[20]||(t[20]=[x(" Clear All ")])),_:1}),i(m,{variant:"outline",size:"sm",onClick:Ge},{default:c(()=&gt;[i(o(Ie),{class:"w-4 h-4"}),t[21]||(t[21]=x(" Apply Filters "))]),_:1})])]),e("div",Ut,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),e("div",zt,[i(o(et),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=&gt;S.value=s),type:"text",placeholder:"Search communications...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[D,S.value]])])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=&gt;T.value=s),class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500"},[t[24]||(t[24]=e("option",{value:""},"All Types",-1)),(a(),u(w,null,_(k,(s,d)=&gt;e("option",{key:d,value:d},r(s.name),9,Nt)),64))],512),[[N,T.value]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=&gt;B.value=s),class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500"},[t[26]||(t[26]=e("option",{value:""},"All Status",-1)),(a(),u(w,null,_(U,(s,d)=&gt;e("option",{key:d,value:d},r(s.name),9,Ft)),64))],512),[[N,B.value]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Priority",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=&gt;R.value=s),class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500"},[t[28]||(t[28]=e("option",{value:""},"All Priorities",-1)),(a(),u(w,null,_(j,(s,d)=&gt;e("option",{key:d,value:d},r(s.name),9,Lt)),64))],512),[[N,R.value]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Range",-1)),e("div",Ot,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=&gt;V.value.start=s),type:"date",class:"flex-1 rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 text-sm"},null,512),[[D,V.value.start]]),h(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=&gt;V.value.end=s),type:"date",class:"flex-1 rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500 text-sm"},null,512),[[D,V.value.end]])])])])]),e("div",Pt,[e("div",Et,[t[32]||(t[32]=e("h2",{class:"text-xl font-semibold text-gray-900"}," Communications History ",-1)),b.value.length&gt;0?(a(),u("div",qt,[e("span",Ht,r(b.value.length)+" selected ",1),i(m,{variant:"outline",size:"sm",onClick:He},{default:c(()=&gt;[i(o($e),{class:"w-4 h-4"}),t[31]||(t[31]=x(" Delete Selected "))]),_:1})])):$("",!0)]),Q.value.length?(a(),u("div",Gt,[(a(!0),u(w,null,_(Q.value,s=&gt;{var d,A,z,O,ve,be,he;return a(),u("div",{key:s.id,class:"border border-gray-100 rounded-xl p-6 hover:bg-gray-50 transition-colors"},[e("div",Qt,[e("div",Yt,[e("input",{type:"checkbox",checked:b.value.includes(s.id),onChange:P=&gt;qe(s.id),class:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,40,Jt),e("div",{class:f(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",`bg-${(d=k[s.type])==null?void 0:d.color}-100`])},[(a(),C(we(((A=k[s.type])==null?void 0:A.icon)||o(H)),{class:f(["w-6 h-6",`text-${(z=k[s.type])==null?void 0:z.color}-600`])},null,8,["class"]))],2),e("div",Kt,[e("div",Wt,[e("h3",Xt,r(s.title),1),e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",(O=U[s.status])==null?void 0:O.class])},r((ve=U[s.status])==null?void 0:ve.name),3),e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",(be=j[s.priority])==null?void 0:be.class])},r((he=j[s.priority])==null?void 0:he.name),3)]),e("p",Zt,r(s.message),1),e("div",It,[e("div",es,[i(o(Ce),{class:"w-4 h-4"}),e("span",null,r(s.total_recipients||0)+" recipients",1)]),e("div",ts,[i(o(ke),{class:"w-4 h-4"}),e("span",null,r(X(s))+"% delivered",1)]),e("div",ss,[i(o(G),{class:"w-4 h-4"}),e("span",null,r(Z(s))+"% read",1)]),e("div",ls,[i(o(tt),{class:"w-4 h-4"}),e("span",null,r(W(s.created_at)),1)])])])]),e("div",os,[i(m,{variant:"ghost",size:"sm",onClick:P=&gt;Re(s)},{default:c(()=&gt;[i(o(G),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),s.status==="failed"?(a(),C(m,{key:0,variant:"ghost",size:"sm",onClick:P=&gt;Ee(s.id)},{default:c(()=&gt;[i(o(st),{class:"w-4 h-4"})]),_:2},1032,["onClick"])):$("",!0),i(m,{variant:"ghost",size:"sm",onClick:P=&gt;Pe(s.id)},{default:c(()=&gt;[i(o($e),{class:"w</span></span>-4 h-4"})]),_:2},1032,["onClick"])])])])}),128))])):(a(),u("div",rs,[i(o(H),{class:"w-12 h-12 text-gray-400 mx-auto mb-3"}),t[34]||(t[34]=e("p",{class:"text-gray-500"},"No communications found",-1)),i(m,{variant:"outline",class:"mt-4",onClick:J},{default:c(()=&gt;t[33]||(t[33]=[x(" Send Your First Communication ")])),_:1})]))]),F.value?(a(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:M},[e("div",{class:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:t[10]||(t[10]=q(()=&gt;{},["stop"]))},[e("div",ns,[t[35]||(t[35]=e("h2",{class:"text-xl font-semibold text-gray-900"}," New Communication ",-1)),e("button",{onClick:M,class:"text-gray-400 hover:text-gray-600"},[i(o(Se),{class:"w-6 h-6"})])]),e("form",{onSubmit:q(Fe,["prevent"]),class:"space-y-6"},[e("div",is,[e("div",as,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Communication Type ",-1)),e("div",ds,[(a(),u(w,null,_(k,(s,d)=&gt;e("button",{key:d,type:"button",onClick:A=&gt;o(n).type=d,class:f(["p-3 border-2 rounded-lg text-left transition-colors",o(n).type===d?`border-${s.color}-500 bg-${s.color}-50`:"border-gray-200 hover:border-gray-300"])},[e("div",cs,[(a(),C(we(s.icon),{class:f(["w-5 h-5",o(n).type===d?`text-${s.color}-600`:"text-gray-400"])},null,8,["class"])),e("span",{class:f(["font-medium",o(n).type===d?`text-${s.color}-900`:"text-gray-900"])},r(s.name),3)]),e("p",ms,r(s.description),1)],10,us)),64))])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Title ",-1)),h(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=&gt;o(n).title=s),type:"text",class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter communication title...",required:""},null,512),[[D,o(n).title]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Message ",-1)),h(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=&gt;o(n).message=s),rows:"6",class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter your message...",required:""},null,512),[[D,o(n).message]])]),e("div",ps,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Priority ",-1)),h(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=&gt;o(n).priority=s),class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500"},[(a(),u(w,null,_(j,(s,d)=&gt;e("option",{key:d,value:d},r(s.name),9,gs)),64))],512),[[N,o(n).priority]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Schedule (Optional) ",-1)),h(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=&gt;o(n).scheduled_at=s),type:"datetime-local",class:"w-full rounded-lg border-gray-300 focus:border-primary-500 focus:ring-primary-500"},null,512),[[D,o(n).scheduled_at]])])])]),e("div",null,[e("div",xs,[e("label",fs," Recipients ("+r(Te.value.length)+" selected) ",1),e("div",ys,[i(m,{type:"button",variant:"ghost",size:"sm",onClick:Ue},{default:c(()=&gt;t[41]||(t[41]=[x(" Select All ")])),_:1}),i(m,{type:"button",variant:"ghost",size:"sm",onClick:ze},{default:c(()=&gt;t[42]||(t[42]=[x(" Clear All ")])),_:1})])]),e("div",vs,[e("div",bs,[(a(!0),u(w,null,_(g.brokers,s=&gt;(a(),u("label",{key:s.id,class:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer"},[e("input",{type:"checkbox",checked:o(n).recipients.includes(s.id),onChange:d=&gt;Ve(s.id),class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,40,hs),e("div",_s,[s.profile_picture_url?(a(),u("img",{key:0,src:s.profile_picture_url,alt:s.name,class:"w-full h-full object-cover"},null,8,ws)):(a(),C(o(je),{key:1,class:"w-4 h-4 text-gray-400"}))]),e("div",ks,[e("p",Cs,r(s.name),1),e("p",$s,r(s.email),1)]),e("span",{class:f(["text-xs px-2 py-1 rounded-md",s.status==="active"?"bg-green-100 text-green-800":s.status==="suspended"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},r(s.status),3)]))),128))])])])]),(pe=g.templates)!=null&amp;&amp;pe.length?(a(),u("div",Ss,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Use Template (Optional) ",-1)),e("div",js,[(a(!0),u(w,null,_(g.templates,s=&gt;{var d,A,z;return a(),u("button",{key:s.id,type:"button",onClick:O=&gt;Ne(s),class:"p-3 border border-gray-200 rounded-lg text-left hover:border-primary-500 hover:bg-primary-50 transition-colors"},[e("h4",As,r(s.name),1),e("p",Ds,r(s.subject),1),e("span",{class:f(["inline-block mt-2 text-xs px-2 py-1 rounded-md",`bg-${(d=k[s.type])==null?void 0:d.color}-100 text-${(A=k[s.type])==null?void 0:A.color}-800`])},r((z=k[s.type])==null?void 0:z.name),3)],8,Ms)}),128))])])):$("",!0),e("div",Ts,[i(m,{type:"button",variant:"ghost",onClick:M},{default:c(()=&gt;t[44]||(t[44]=[x(" Cancel ")])),_:1}),i(m,{type:"button",variant:"outline",onClick:Le,disabled:!o(n).title||!o(n).message},{default:c(()=&gt;t[45]||(t[45]=[x(" Save Draft ")])),_:1},8,["disabled"]),o(n).scheduled_at?(a(),C(m,{key:0,type:"button",variant:"primary",onClick:Oe,disabled:!Y.value||o(n).processing},{default:c(()=&gt;[x(r(o(n).processing?"Scheduling...":"Schedule"),1)]),_:1},8,["disabled"])):(a(),C(m,{key:1,type:"submit",variant:"primary",disabled:!Y.value||o(n).processing},{default:c(()=&gt;[x(r(o(n).processing?"Sending...":"Send Now"),1)]),_:1},8,["disabled"]))])],32)])])):$("",!0),L.value&amp;&amp;p.value?(a(),u("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:K},[e("div",{class:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:t[11]||(t[11]=q(()=&gt;{},["stop"]))},[e("div",Bs,[t[46]||(t[46]=e("h2",{class:"text-xl font-semibold text-gray-900"}," Communication Details ",-1)),e("button",{onClick:K,class:"text-gray-400 hover:text-gray-600"},[i(o(Se),{class:"w-6 h-6"})])]),e("div",Rs,[e("div",null,[e("h3",Vs,r(p.value.title),1),e("div",Us,[e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",(ge=U[p.value.status])==null?void 0:ge.class])},r((xe=U[p.value.status])==null?void 0:xe.name),3),e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",(fe=j[p.value.priority])==null?void 0:fe.class])},r((ye=j[p.value.priority])==null?void 0:ye.name),3),e("span",zs,r(W(p.value.created_at)),1)]),e("p",Ns,r(p.value.message),1)]),e("div",Fs,[e("div",Ls,[e("p",Os,r(p.value.total_recipients||0),1),t[47]||(t[47]=e("p",{class:"text-sm text-blue-800"},"Recipients",-1))]),e("div",Ps,[e("p",Es,r(X(p.value))+"% ",1),t[48]||(t[48]=e("p",{class:"text-sm text-green-800"},"Delivered",-1))]),e("div",qs,[e("p",Hs,r(Z(p.value))+"% ",1),t[49]||(t[49]=e("p",{class:"text-sm text-purple-800"},"Read",-1))])]),p.value.recipients?(a(),u("div",Gs,[t[50]||(t[50]=e("h4",{class:"font-medium text-gray-900 mb-3"}," Recipients ",-1)),e("div",Qs,[(a(!0),u(w,null,_(p.value.recipients,s=&gt;(a(),u("div",{key:s.id,class:"flex items-center justify-between p-3 border-b border-gray-100 last:border-b-0"},[e("div",Ys,[e("div",Js,[s.profile_picture_url?(a(),u("img",{key:0,src:s.profile_picture_url,alt:s.name,class:"w-full h-full object-cover"},null,8,Ks)):(a(),C(o(je),{key:1,class:"w-4 h-4 text-gray-400"}))]),e("div",null,[e("p",Ws,r(s.name),1),e("p",Xs,r(s.email),1)])]),e("div",Zs,[e("span",{class:f(["text-xs px-2 py-1 rounded-md",s.delivery_status==="delivered"?"bg-green-100 text-green-800":s.delivery_status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},r(s.delivery_status||"pending"),3),s.read_at?(a(),u("span",Is," Read ")):$("",!0)])]))),128))])])):$("",!0)])])])):$("",!0)]}),_:1}))}};export{Tl as default};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-09-11T15:42:07.474Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    