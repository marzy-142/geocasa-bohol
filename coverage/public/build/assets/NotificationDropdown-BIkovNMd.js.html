
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for public/build/assets/NotificationDropdown-BIkovNMd.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">public/build/assets</a> NotificationDropdown-BIkovNMd.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >import{o as l,h as c,b as e,a as x,r as z,s as I,d as q,u as $,z as W,f,A as h,v as S,t as k,l as b,g as J,W as U,R as K,q as A,L as Q,K as Y,n as C,e as T,F as j,i as G,c as ee,k as te,w as se,P as oe}from"./app-Bwbmud97.js";import{r as ie}from"./XMarkIcon-BvEjh4IS.js";function ne(w,o){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function st(w,o){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function re(w,o){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}class ae{constructor(){this.permission=Notification.permission,this.isSupported="Notification"in window}async requestPermission(){if(!this.isSupported)throw new Error("Browser notifications are not supported");if(this.permission==="granted")return!0;const o=await Notification.requestPermission();return this.permission=o,o==="granted"}show(o,g={}){if(!this.isSupported||this.permission!=="granted")return null;const _={icon:"/favicon.ico",badge:"/favicon.ico",tag:"geocasa-notification",requireInteraction:!1,...g};return new Notification(o,_)}showNewInquiry(o){return this.show("New Property Inquiry",{body:`New inquiry for ${o.property_title} from ${o.client_name}`,icon:"/favicon.ico",tag:`inquiry-${o.inquiry_id}`,data:{type:"inquiry",id:o.inquiry_id,url:`/inquiries/${o.inquiry_id}`}})}showTransactionUpdate(o){return this.show("Transaction Update",{body:`Transaction status updated to ${o.new_status.replace("_"," ")} for ${o.property_title}`,icon:"/favicon.ico",tag:`transaction-${o.transaction_id}`,data:{type:"transaction",id:o.transaction_id,url:`/transactions/${o.transaction_id}`}})}showNewMessage(o){return this.show("New Message",{body:`New message from ${o.sender_name} in ${o.conversation_title}`,icon:"/favicon.ico",tag:`message-${o.message_id}`,data:{type:"message",id:o.conversation_id,url:`/conversations/${o.conversation_id}`}})}showSellerRequest(o){return this.show("New Seller Request",{body:`New seller request from ${o.client_name}`,icon:"/favicon.ico",tag:`seller-request-${o.seller_request_id}`,data:{type:"seller_request",id:o.seller_request_id,url:`/seller-requests/${o.seller_request_id}`}})}setupClickHandlers(){document.addEventListener("click",o=&gt;{if(o.target.tagName==="NOTIFICATION"){const g=o.target.data;g&amp;&amp;g.url&amp;&amp;(window.location.href=g.url)}})}async areNotificationsEnabled(){try{return(await window.axios.get("/notifications/settings")).data.browser_notifications}catch(o){return console.error("Failed to check notification preferences:",o),!1}}async init(){return this.isSupported?await this.areNotificationsEnabled()?(this.permission==="default"&amp;&amp;await this.requestPermission(),this.setupClickHandlers(),this.permission==="granted"):!1:(console.warn("Browser notifications are not supported"),!1)}}const le=new ae,ue={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},de={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ce={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},me={class:"flex items-center justify-between mb-6"},fe={class:"mb-6"},pe={class:"space-y-3"},ge={class:"flex items-center"},be={class:"flex items-center"},we={class:"flex items-center"},ye={class:"flex items-center"},ve={class:"mb-6"},he={class:"mb-3"},xe={class:"space-y-3"},_e={class:"flex items-center"},ke=["disabled"],Ne={class:"flex items-center"},qe=["disabled"],$e={class:"mb-6"},Se={class:"space-y-3"},Ce={class:"flex items-center"},Ie={key:0,class:"text-xs text-gray-500 ml-6"},Me={class:"mb-6"},Ve={class:"mb-6"},Be={class:"grid grid-cols-2 gap-4"},Ae={class:"flex justify-end space-x-3"},Te=["disabled"],je={__name:"NotificationSettingsModal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(w,{emit:o}){const g=w,_=o,u=x(!1),d=x(""),i=z({email_new_inquiry:!0,email_transaction_updates:!0,email_messages:!0,email_seller_requests:!0,email_frequency:"immediate",phone_number:"",sms_urgent_inquiries:!1,sms_transaction_milestones:!1,browser_notifications:!1,quiet_hours_start:"22:00",quiet_hours_end:"08:00"}),y=async()=&gt;{try{const t=await(await fetch(route("notifications.settings"))).json();Object.assign(i,t)}catch(p){console.error("Failed to load notification settings:",p)}},N=()=&gt;{u.value=!0,U.post(route("notifications.settings.update"),i,{preserveScroll:!0,onSuccess:()=&gt;{_("close")},onFinish:()=&gt;{u.value=!1}})},v=()=&gt;{i.browser_notifications?"Notification"in window?Notification.permission==="default"?Notification.requestPermission().then(p=&gt;{p==="granted"?d.value="Browser notifications enabled":(i.browser_notifications=!1,d.value="Permission denied. Please enable in browser settings.")}):Notification.permission==="granted"?d.value="Browser notifications enabled":(i.browser_notifications=!1,d.value="Permission denied. Please enable in browser settings."):(i.browser_notifications=!1,d.value="Browser notifications not supported"):d.value=""};return I(()=&gt;{g.show&amp;&amp;y(),"Notification"in window&amp;&amp;(Notification.permission==="granted"?(d.value="Browser notifications enabled",i.browser_notifications=!0):Notification.permission==="denied"&amp;&amp;(d.value="Permission denied. Please enable in browser settings."))}),(p,t)=&gt;w.show?(l(),c("div",ue,[e("div",de,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[0]||(t[0]=r=&gt;p.$emit("close"))}),e("div",ce,[e("div",null,[e("div",me,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900",id:"modal-title"}," Notification Settings ",-1)),e("button",{onClick:t[1]||(t[1]=r=&gt;p.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[q($(ie),{class:"w-6 h-6"})])]),e("form",{onSubmit:W(N,["prevent"])},[e("div",fe,[t[19]||(t[19]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"}," Email Notifications ",-1)),e("div",pe,[e("label",ge,[f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=&gt;i.email_new_inquiry=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,i.email_new_inquiry]]),t[15]||(t[15]=e("span",{class:"ml-3 text-sm text-gray-700"}," New inquiries ",-1))]),e("label",be,[f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=&gt;i.email_transaction_updates=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,i.email_transaction_updates]]),t[16]||(t[16]=e("span",{class:"ml-3 text-sm text-gray-700"}," Transaction status updates ",-1))]),e("label",we,[f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=&gt;i.email_messages=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,i.email_messages]]),t[17]||(t[17]=e("span",{class:"ml-3 text-sm text-gray-700"}," New messages ",-1))]),e("label",ye,[f(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=&gt;i.email_seller_requests=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[h,i.email_seller_requests]]),t[18]||(t[18]=e("span",{class:"ml-3 text-sm text-gray-700"}," New seller requests ",-1))])])]),e("div",ve,[t[24]||(t[24]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"}," SMS Notifications ",-1)),e("div",he,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=&gt;i.phone_number=r),type:"tel",placeholder:"+63 9XX XXX XXXX",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[S,i.phone_number]]),t[21]||(t[21]=e("p",{class:"text-xs text-gray-500 mt-1"}," Required for SMS notifications ",-1))]),e("div",xe,[e("label",_e,[f(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=&gt;i.sms_urgent_inquiries=r),type:"checkbox",disabled:!i.phone_number,class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 disabled:opacity-50"},null,8,ke),[[h,i.sms_urgent_inquiries]]),t[22]||(t[22]=e("span",{class:"ml-3 text-sm text-gray-700"}," Urgent inquiries only ",-1))]),e("label",Ne,[f(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=&gt;i.sms_transaction_milestones=r),type:"checkbox",disabled:!i.phone_number,class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 disabled:opacity-50"},null,8,qe),[[h,i.sms_transaction_milestones]]),t[23]||(t[23]=e("span",{class:"ml-3 text-sm text-gray-700"}," Transaction milestones ",-1))])])]),e("div",$e,[t[26]||(t[26]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"}," Browser Notifications ",-1)),e("div",Se,[e("label",Ce,[f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=&gt;i.browser_notifications=r),type:"checkbox",onChange:v,class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,544),[[h,i.browser_notifications]]),t[25]||(t[25]=e("span",{class:"ml-3 text-sm text-gray-700"}," Enable browser notifications ",-1))]),d.value?(l(),c("p",Ie,k(d.value),1)):b("",!0)])]),e("div",Me,[t[28]||(t[28]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"}," Email Frequency ",-1)),f(e("select",{"onUpdate:modelValue":t[10]||(t[10]=r=&gt;i.email_frequency=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},t[27]||(t[27]=[e("option",{value:"immediate"},"Immediate",-1),e("option",{value:"hourly"},"Hourly digest",-1),e("option",{value:"daily"},"Daily digest",-1),e("option",{value:"weekly"},"Weekly digest",-1)]),512),[[J,i.email_frequency]])]),e("div",Ve,[t[31]||(t[31]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"}," Quiet Hours ",-1)),t[32]||(t[32]=e("p",{class:"text-xs text-gray-500 mb-3"}," No notifications will be sent during these hours ",-1)),e("div",Be,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," From ",-1)),f(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=&gt;i.quiet_hours_start=r),type:"time",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[S,i.quiet_hours_start]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," To ",-1)),f(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=&gt;i.quiet_hours_end=r),type:"time",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[S,i.quiet_hours_end]])])])]),e("div",Ae,[e("button",{type:"button",onClick:t[13]||(t[13]=r=&gt;p.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:u.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},k(u.value?"Saving...":"Save Settings"),9,Te)])],32)])])])])):b("",!0)}},Ue={class:"relative"},De={key:1,class:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-400 rounded-full animate-ping"},Pe={key:0,class:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50"},Ee={class:"px-4 py-3 border-b border-gray-200"},He={class:"flex items-center justify-between"},Fe={class:"text-lg font-semibold text-gray-900"},Xe={key:0,class:"ml-2 text-sm font-normal text-gray-500"},Le={class:"max-h-96 overflow-y-auto"},Oe={key:0,class:"px-4 py-8 text-center text-gray-500"},Re=["onClick"],Ze={class:"flex items-start space-x-3"},ze={class:"flex-shrink-0 mt-1"},We={class:"flex-1 min-w-0"},Je={class:"text-sm font-medium text-gray-900"},Ke={class:"text-xs text-gray-500 mt-1"},Qe={key:0,class:"flex-shrink-0"},Ye={class:"px-4 py-3 border-t border-gray-200"},Ge={class:"flex items-center justify-between"},ot={__name:"NotificationDropdown",props:{notifications:{type:Array,default:()=&gt;[]}},setup(w){const o=w,g=K(),_=A(()=&gt;{var s;return(s=g.props.auth)==null?void 0:s.user}),u=x([...o.notifications]),d=x(!1),i=x(null);Q(()=&gt;o.notifications,s=&gt;{u.value=[...s]},{deep:!0}),I(async()=&gt;{await le.init(),p()});const y=x(!1),N=x(!1),v=A(()=&gt;u.value.filter(s=&gt;!s.read_at).length),p=()=&gt;{window.Echo&amp;&amp;_.value&amp;&amp;window.Echo.private(`App.Models.User.${_.value.id}`).notification(s=&gt;{const n={id:s.id||Date.now(),type:s.type,data:s,created_at:new Date().toISOString(),read_at:null,isNew:!0};u.value.unshift(n),d.value=!0,i.value&amp;&amp;clearTimeout(i.value),i.value=setTimeout(()=&gt;{d.value=!1;const a=u.value.findIndex(m=&gt;m.id===n.id);a!==-1&amp;&amp;(u.value[a].isNew=!1)},3e3),t(s),r()})},t=s=&gt;{var n;if(Notification.permission==="granted"){const a=D(s.type),m=s.message||((n=s.data)==null?void 0:n.message)||"You have a new notification";new Notification(a,{body:m,icon:"/favicon.ico",badge:"/favicon.ico",tag:s.id})}},r=()=&gt;{try{const s=new Audio("/sounds/notification.mp3");s.volume=.3,s.play().catch(()=&gt;{})}catch{}},D=s=&gt;({"App\\Notifications\\NewInquiryNotification":"New Property Inquiry","App\\Notifications\\TransactionStatusNotification":"Transaction Update","App\\Notifications\\MessageNotification":"New Message","App\\Notifications\\SellerRequestNotification":"New Seller Request","App\\Notifications\\BrokerApprovalNotification":"Broker Approval","App\\Notifications\\BrokerAssignmentNotification":"Client Assignment"})[s]||"New Notification",P=()=&gt;{y.value=!y.value},E=()=&gt;{N.value=!0,y.value=!1},H=()=&gt;{N.value=!1},F=s=&gt;{var m;s.read_at||window.axios.post(route("notifications.mark-read",s.id),{},{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(V=&gt;{const B=u.value.findIndex(Z=&gt;Z.id===s.id);B!==-1&amp;&amp;(u.value[B].read_at=new Date().toISOString())}).catch(V=&gt;{console.error("Failed to mark notification as read:",V)});const a={new_inquiry:()=&gt;route("inquiries.show",s.data.inquiry_id),seller_request:()=&gt;route("seller-requests.show",s.data.seller_request_id),transaction_status:()=&gt;route("transactions.show",s.data.transaction_id),new_message:()=&gt;route("conversations.show",s.data.conversation_id),broker_approval:()=&gt;route("broker.dashboard"),broker_assignment:()=&gt;route("clients.show",s.data.client_id)}[(m=s.data)==null?void 0:m.type];a&amp;&amp;U.visit(a()),y.value=!1},X=()=&gt;{window.axios.post(route("notifications.mark-all-read"),{},{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(s=&gt;{u.value.forEach(n=&gt;{n.read_at=new Date().toISOString()})}).catch(s=&gt;{console.error("Failed to mark all notifications as read:",s)})},L=s=&gt;({new_inquiry:"InboxIcon",seller_request:"HomeIcon",transaction_status:"CurrencyDollarIcon",new_message:"ChatBubbleBottomCenterTextIcon",broker_approval:"CheckCircleIcon",broker_assignment:"InboxIcon"})[s]||"</span></span>BellIcon",O=s=&gt;({new_inquiry:"bg-blue-100 text-blue-600",seller_request:"bg-green-100 text-green-600",transaction_status:"bg-yellow-100 text-yellow-600",new_message:"bg-indigo-100 text-indigo-600",broker_approval:"bg-purple-100 text-purple-600",broker_assignment:"bg-orange-100 text-orange-600"})[s]||"bg-gray-100 text-gray-600",R=s=&gt;{const n=new Date(s),m=(new Date-n)/(1e3*60*60);return m&lt;1?"Just now":m&lt;24?`${Math.floor(m)}h ago`:m&lt;168?`${Math.floor(m/24)}d ago`:n.toLocaleDateString()},M=s=&gt;{s.target.closest(".relative")||(y.value=!1)};return I(()=&gt;{document.addEventListener("click",M)}),Y(()=&gt;{document.removeEventListener("click",M),i.value&amp;&amp;clearTimeout(i.value)}),(s,n)=&gt;(l(),c(j,null,[e("div",Ue,[e("button",{onClick:P,class:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg transition-colors duration-200"},[n[0]||(n[0]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),v.value&gt;0?(l(),c("span",{key:0,class:C(["absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium shadow-lg animate-pulse",{"animate-bounce":d.value}])},k(v.value&gt;99?"99+":v.value),3)):b("",!0),d.value?(l(),c("span",De)):b("",!0)]),y.value?(l(),c("div",Pe,[e("div",Ee,[e("div",He,[e("h3",Fe,[n[1]||(n[1]=T(" Notifications ")),v.value&gt;0?(l(),c("span",Xe," ("+k(v.value)+" unread) ",1)):b("",!0)]),v.value&gt;0?(l(),c("button",{key:0,onClick:X,class:"text-sm text-blue-600 hover:text-blue-800 transition-colors"}," Mark all read ")):b("",!0)])]),e("div",Le,[u.value.length===0?(l(),c("div",Oe,[q($(ne),{class:"w-8 h-8 mx-auto mb-2 text-gray-300"}),n[2]||(n[2]=e("p",null,"No notifications yet",-1))])):b("",!0),(l(!0),c(j,null,G(u.value,a=&gt;(l(),c("div",{key:a.id,class:C(["px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors duration-150",{"bg-blue-50 border-l-4 border-l-blue-500":!a.read_at,"animate-pulse":a.isNew}]),onClick:m=&gt;F(a)},[e("div",Ze,[e("div",ze,[e("div",{class:C(["w-8 h-8 rounded-full flex items-center justify-center",O(a.data.type)])},[(l(),ee(te(L(a.data.type)),{class:"w-4 h-4"}))],2)]),e("div",We,[e("p",Je,k(a.data.message),1),e("p",Ke,k(R(a.created_at)),1)]),a.read_at?b("",!0):(l(),c("div",Qe,n[3]||(n[3]=[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)])))])],10,Re))),128))]),e("div",Ye,[e("div",Ge,[q($(oe),{href:s.route("notifications.index"),class:"text-sm text-blue-600 hover:text-blue-800"},{default:se(()=&gt;n[4]||(n[4]=[T(" View all notifications ")])),_:1},8,["href"]),e("button",{onClick:E,class:"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1"},[q($(re),{class:"w-4 h-4"}),n[5]||(n[5]=e("span",null,"Settings",-1))])])])])):b("",!0)]),q(je,{show:N.value,onClose:H},null,8,["show"])],64))}};export{ot as _,st as a,re as b,je as c,ne as r};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-09-11T15:42:07.474Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    